<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://squirrels-nest.github.io/squirrels-docs/how-to/writing-parameters/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Create Parameters - Squirrels Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../static/style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Create Parameters";
        var mkdocs_page_input_path = "how-to\\writing-parameters.md";
        var mkdocs_page_url = "/squirrels-docs/how-to/writing-parameters/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Squirrels Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../overview/">Overview</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorial</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/initialize/">1. Initialize a Squirrels Project</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/manifest/">2. Configure the Manifest File</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/parameters/">3. Create the Dataset Parameters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/queries/">4. Create the SQL Queries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/testapi/">5. Activate the REST APIs & Test</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/context/">6. Use the Context File</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/conclusion/">What's Next?</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Command Line Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli/init/">init</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli/load-modules/">load-modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli/credentials/">credential management</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli/test/">test</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli/run/">run</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Topic Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../topics/manifest/">Manifest File (squirrels.yaml)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../topics/versioning/">Major vs Minor Version (Best Practices)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">How To...</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../database/">Configure Database Connections</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Create Parameters</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#specifying-parameter-options-step-3">Specifying parameter options (Step 3)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#creating-the-parameters-step-4">Creating the parameters (Step 4)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#adding-the-parameters-to-the-return-set-step-5">Adding the parameters to the return set (Step 5)</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sql-views/">Create Views with SQL and Jinja</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../python-views/">Create Views with Python</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../common-vary/">Design for Commonality and Variability</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../custom-fields/">Parameter Option Custom Fields</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../modify-dates/">Modify Dates Using Squirrel's dateutils</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Front-End Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../front-end/response/">Response Schema</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../front-end/selections/">Passing Parameter Selections</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../front-end/best-practices/">Best Practices for Using REST API Response</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Release Notes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../release-notes/v-0-1-1/">Version 0.1.1 (July 2, 2023)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../release-notes/v-0-1-0/">Version 0.1.0 (June 11, 2023)</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Squirrels Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>How To... &raquo;</li>
      <li>Create Parameters</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="creating-parameters">Creating Parameters</h1>
<p>Before writing the query templates, you'll need to specify the kinds of parameters that would be used. Below is an example of a <code>parameters.py</code> file included in the project: </p>
<pre><code class="language-python">def main(args: Dict[str, Any], *p_args, **kwargs) -&gt; sq.ParameterSet:
    single_select_options = (
        sq.SelectParameterOption('a0', 'Primary Colors'),
        sq.SelectParameterOption('a1', 'Secondary Colors')
    )

    multi_select_options = (
        sq.SelectParameterOption('x0', 'Red',    parent_option_id='a0'),
        sq.SelectParameterOption('x1', 'Yellow', parent_option_id='a0'),
        sq.SelectParameterOption('x2', 'Blue',   parent_option_id='a0'),
        sq.SelectParameterOption('x3', 'Green',  parent_option_id='a1'),
        sq.SelectParameterOption('x4', 'Orange', parent_option_id='a1'),
        sq.SelectParameterOption('x5', 'Purple', parent_option_id='a1')
    )

    single_select_example = sq.SingleSelectParameter('color_type', 'Color Type', single_select_options)

    multi_select_example = sq.MultiSelectParameter('colors', 'Colors', multi_select_options,  parent=single_select_example)

    date_example = sq.DateParameter('as_of_date', 'As Of Date', '2020-01-01')

    number_example = sq.NumberParameter('upper_bound', 'Upper Bound', min_value=1, max_value=10, increment=1, default_value=5)

    return [single_select_example, multi_select_example, date_example, number_example]
</code></pre>
<p>Currently, there are five supported types of parameters:</p>
<ol>
<li>Single-select Parameter</li>
<li>Multi-select Parameter</li>
<li>Date Parameter</li>
<li>Number Parameter</li>
<li>DataSource Parameter</li>
</ol>
<p>In order to create a parameter, here are some basic steps:</p>
<ol>
<li>Create a <code>parameters.py</code> file for you dataset, this should be automatically generated in a sample dataset when you ran <code>squirrels init</code>.</li>
<li>Copy/move the <code>parameters.py</code> file from the original sample dataset folder to your own dataset folder.</li>
<li>In the file, create/specify your parameter options</li>
<li>Initialize parameters</li>
<li>Add parameter to the return list</li>
</ol>
<p>Steps 1 - 2 are self explanatory, so we will not go in detail for those. </p>
<h2 id="specifying-parameter-options-step-3">Specifying parameter options (Step 3)</h2>
<p>All parameters need options to choose from, and in the squirrels framework, most parameter options come in the form of a <code>SelectParameterOption</code> object, which houses all the data that pertains to that specific option, ie. its ID, label, and other custom attributes. We then use a list to contain all the parameter options for a single parameter, which will get passed through to the parameter constructor. </p>
<p>Using the example above, the parameter options for the single-select and multi-select parameters are as following:</p>
<pre><code class="language-python">    single_select_options = (
        sq.SelectParameterOption('a0', 'Primary Colors'),
        sq.SelectParameterOption('a1', 'Secondary Colors')
    )

    multi_select_options = (
        sq.SelectParameterOption('x0', 'Red',    parent_option_id='a0'),
        sq.SelectParameterOption('x1', 'Yellow', parent_option_id='a0'),
        sq.SelectParameterOption('x2', 'Blue',   parent_option_id='a0'),
        sq.SelectParameterOption('x3', 'Green',  parent_option_id='a1'),
        sq.SelectParameterOption('x4', 'Orange', parent_option_id='a1'),
        sq.SelectParameterOption('x5', 'Purple', parent_option_id='a1')
    )
</code></pre>
<p>In the SelectParameterOption constructor, the first argument is the ID, and the next is its label. Those arguments are necessary, while the rest are optional. </p>
<p>An example of a useful optional argument is the <code>parent_option_id</code> that's also in the example above. When specified, the parameter option would only show up if the parameter id with the <code>parent_option_id</code> is selected. </p>
<p>If creating a DataSource parameter that converts itself into another parameter, specify a "DataSource" that represents the query or table name, and associate columns to specific attributes like ID and label. An example is shown where the table/query, ID column, and label column are required.</p>
<pre><code class="language-python">    category_ds = sr.SelectionDataSource(&quot;SELECT DISTINCT Category_ID, Category FROM categories&quot;, &quot;Category_ID&quot;, &quot;Category&quot;)
</code></pre>
<h2 id="creating-the-parameters-step-4">Creating the parameters (Step 4)</h2>
<p>After the parameter options are specified and aggregated, the list can then get passed to the parameters parameter constructor.</p>
<pre><code class="language-python">    single_select_example = sq.SingleSelectParameter('color_type', 'Color Type', single_select_options)

    multi_select_example = sq.MultiSelectParameter('colors', 'Colors', multi_select_options,  parent=single_select_example)
</code></pre>
<p>In general, each constructor to create a parameter object follows the following form: <code>sq.XXXParameter(&lt;id&gt;, &lt;label&gt;, &lt;Options&gt;)</code> however, please refer to the docstrings for the most up-to-date documentation on the specific functions. </p>
<p>Note how since the multiselect parameter options uses the <code>parent_option_id</code> field, the call to the MultiSelectParameter's constructor also specifies the parent parameter to which the options refer.</p>
<p>The following are examples of Date and Number parameters:</p>
<pre><code class="language-python">    date_example = sq.DateParameter('as_of_date', 'As Of Date', '2020-01-01')

    number_example = sq.NumberParameter('upper_bound', 'Upper Bound', min_value=1, max_value=10, increment=1, default_value=5)
</code></pre>
<p>A DataSource parameter is a parameter that can convert itself into another parameter based on a lookup table in the database. The following example is a DataSource parameter specifying the parameter class it converts to, the ID, the label, and the selection datasource.</p>
<pre><code class="language-python">    category_filter = sr.DataSourceParameter(sr.MultiSelectParameter, &quot;category&quot;, &quot;Category Filter&quot;, category_ds)
</code></pre>
<p>For more information on the Date, Number, and DataSource parameters, please refer to the docstrings.</p>
<p>For more information on specifying custom fields on parameter options, please refer to this page for how to <a href="../custom-fields/">Set Parameter Option Custom Fields</a>.</p>
<h2 id="adding-the-parameters-to-the-return-set-step-5">Adding the parameters to the return set (Step 5)</h2>
<p>All parameters need to be added to return list in order to be used in the database and final views. This is very straight forward, as you simply need to aggregate all the parameters you've specified into a list, and return it. </p>
<pre><code class="language-python">return [single_select_example, multi_select_example, date_example, number_example]
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../database/" class="btn btn-neutral float-left" title="Configure Database Connections"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../sql-views/" class="btn btn-neutral float-right" title="Create Views with SQL and Jinja">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../database/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../sql-views/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
